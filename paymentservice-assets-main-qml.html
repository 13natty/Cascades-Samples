<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Cascades : main.qml Example File (paymentservice/assets/main.qml)</title>
  <link rel="stylesheet" type="text/css" href="style/offline.css" />
</head>
<body>
<div class="header" id="qtdocheader">
  <div class="content"> 
    <a href="index.html" class="qtref"><span>Qt-based BB10 API Examples Documentation</span></a>
  </div>
  <div class="breadcrumb toolblock">
    <ul>
      <li class="first"><a href="index.html">Home</a></li>
      <!--  Breadcrumbs go here -->
    </ul>
  </div>
</div>
<div class="content mainContent">
<h1 class="title">main.qml Example File</h1>
<span class="small-subtitle">paymentservice/assets/main.qml</span>
<!-- $$$paymentservice/assets/main.qml-description -->
<div class="descr"> <a name="details"></a>
<pre class="qml">    <span class="comment">/* Copyright (c) 2012 Research In Motion Limited.
    *
    * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */</span>

    import bb.cascades 1.0
    import com.sample.payment 1.0

    <span class="comment">// Standard TabbedPane to provide the various payment screens</span>
    <span class="type">TabbedPane</span> {
        <span class="comment">// property used for the traversal of each receipt string character</span>
        property <span class="type">int</span> <span class="name">i</span>: <span class="number">0</span>

        <span class="comment">// property holding the receipt string for display</span>
        property <span class="type">string</span> <span class="name">receiptArea</span>: <span class="string">&quot;&quot;</span>
        <span class="name">onActiveTabChanged</span>: {
            <span class="name">purchases</span>.<span class="name">text</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>
            <span class="name">purchaseId</span>.<span class="name">text</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>
        }
        <span class="type">Tab</span> {
            <span class="name">title</span>: <span class="name">qsTr</span> (<span class="string">&quot;Buy&quot;</span>)
            <span class="name">imageSource</span>: <span class="string">&quot;asset:///images/buy.png&quot;</span>

            <span class="type">Page</span> {

                <span class="comment">// Container for oraganizing the different visual components</span>
                <span class="type">Container</span> {
                    <span class="name">rightPadding</span>: <span class="number">10</span>
                    <span class="name">leftPadding</span>: <span class="number">10</span>

                    <span class="name">background</span>: <span class="name">Color</span>.<span class="name">Black</span>

                    <span class="comment">// Container for holding the title</span>
                    <span class="type">Container</span> {
                        <span class="name">horizontalAlignment</span>: <span class="name">HorizontalAlignment</span>.<span class="name">Right</span>
                        <span class="name">verticalAlignment</span>: <span class="name">VerticalAlignment</span>.<span class="name">Top</span>
                        <span class="name">rightPadding</span>: <span class="number">100</span>

                        <span class="name">layoutProperties</span>: <span class="name">StackLayoutProperties</span> {
                            <span class="name">spaceQuota</span>: -<span class="number">1</span>
                        }

                        <span class="comment">// A standard ImageView displaying the title</span>
                        <span class="type">ImageView</span> {
                            <span class="name">horizontalAlignment</span>: <span class="name">HorizontalAlignment</span>.<span class="name">Right</span>
                            <span class="name">verticalAlignment</span>: <span class="name">VerticalAlignment</span>.<span class="name">Top</span>
                            <span class="name">topMargin</span>: <span class="number">20</span>

                            <span class="name">imageSource</span>: <span class="string">&quot;asset:///images/goods_title.png&quot;</span>
                            <span class="name">preferredWidth</span>: <span class="number">200</span>
                            <span class="name">preferredHeight</span>: <span class="number">100</span>
                        }
                    }

                    <span class="comment">// Container for holding the item iamges</span>
                    <span class="type">Container</span> {
                        <span class="name">id</span>: <span class="name">imagine</span>

                        <span class="name">horizontalAlignment</span>: <span class="name">HorizontalAlignment</span>.<span class="name">Right</span>
                        <span class="name">verticalAlignment</span>: <span class="name">VerticalAlignment</span>.<span class="name">Top</span>
                        <span class="name">topPadding</span>: <span class="number">5</span>
                        <span class="name">rightPadding</span>: <span class="number">40</span>

                        <span class="name">layout</span>: <span class="name">StackLayout</span> {
                            <span class="name">orientation</span>: <span class="name">LayoutOrientation</span>.<span class="name">LeftToRight</span>
                        }

                        <span class="name">layoutProperties</span>: <span class="name">StackLayoutProperties</span> {
                            <span class="name">spaceQuota</span>: -<span class="number">1</span>
                        }

                        <span class="comment">// A standard ImageView</span>
                        <span class="type">ImageView</span> {
                            <span class="name">imageSource</span>: <span class="string">&quot;asset:///images/banana.png&quot;</span>
                            <span class="name">preferredWidth</span>: <span class="number">128</span>
                            <span class="name">preferredHeight</span>: <span class="number">86</span>
                            <span class="name">rightMargin</span>: <span class="number">30</span>
                        }

                        <span class="comment">// A standard ImageView</span>
                        <span class="type">ImageView</span> {
                            <span class="name">imageSource</span>: <span class="string">&quot;asset:///images/leek.png&quot;</span>
                            <span class="name">preferredWidth</span>: <span class="number">128</span>
                            <span class="name">preferredHeight</span>: <span class="number">86</span>
                            <span class="name">rightMargin</span>: <span class="number">30</span>
                        }

                        <span class="comment">// A standard ImageView</span>
                        <span class="type">ImageView</span> {
                            <span class="name">imageSource</span>: <span class="string">&quot;asset:///images/strawberries.png&quot;</span>
                            <span class="name">preferredWidth</span>: <span class="number">128</span>
                            <span class="name">preferredHeight</span>: <span class="number">86</span>
                        }
                    }

                    <span class="comment">// Container for displaying the Divider</span>
                    <span class="type">Container</span> {
                        <span class="name">topMargin</span>: <span class="number">5</span>
                        <span class="name">bottomMargin</span>: <span class="number">20</span>
                        <span class="name">layoutProperties</span>: <span class="name">StackLayoutProperties</span> {
                            <span class="name">spaceQuota</span>: -<span class="number">1</span>
                        }
                        <span class="name">background</span>: <span class="name">Color</span>.<span class="name">create</span> (<span class="string">&quot;#615A5F&quot;</span>)
                        <span class="type">Divider</span> {
                        }
                    }

                    <span class="comment">// Container for the application control Button's</span>
                    <span class="type">Container</span> {
                        <span class="name">horizontalAlignment</span>: <span class="name">HorizontalAlignment</span>.<span class="name">Center</span>
                        <span class="name">topPadding</span>: <span class="number">5</span>
                        <span class="name">rightPadding</span>: <span class="number">40</span>

                        <span class="name">layout</span>: <span class="name">StackLayout</span> {
                            <span class="name">orientation</span>: <span class="name">LayoutOrientation</span>.<span class="name">LeftToRight</span>
                        }

                        <span class="name">layoutProperties</span>: <span class="name">StackLayoutProperties</span> {
                            <span class="name">spaceQuota</span>: -<span class="number">1</span>
                        }
                        <span class="name">translationX</span>: <span class="number">1000</span>

                        <span class="comment">// A standard Button</span>
                        <span class="type">Button</span> {
                            <span class="name">text</span>: <span class="name">qsTr</span> (<span class="string">&quot;BUY&quot;</span>)
                            <span class="comment">// Perform the purchase transaction on click</span>
                            <span class="name">onClicked</span>: {
                                <span class="comment">// Reset some old values</span>
                                <span class="name">receipt</span>.<span class="name">text</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>
                                <span class="name">message</span>.<span class="name">visible</span> <span class="operator">=</span> <span class="number">false</span>
                                <span class="name">paymentControl</span>.<span class="name">purchase</span> (<span class="name">paymentControl</span>.<span class="name">id</span>, <span class="name">paymentControl</span>.<span class="name">sku</span>, <span class="name">paymentControl</span>.<span class="name">name</span>, <span class="name">paymentControl</span>.<span class="name">metadata</span>)
                            }
                        }

                        <span class="comment">// A standard Button</span>
                        <span class="type">Button</span> {
                            <span class="name">text</span>: <span class="name">qsTr</span> (<span class="string">&quot;SUB TERMS&quot;</span>)

                            <span class="comment">// Display the subscription terms on click</span>
                            <span class="name">onClicked</span>: {
                                <span class="name">paymentControl</span>.<span class="name">getSubscriptionTerms</span> (<span class="name">paymentControl</span>.<span class="name">id</span>, <span class="name">paymentControl</span>.<span class="name">sku</span>)
                            }
                        }
                        <span class="comment">// Animation for sliding button effect</span>
                        <span class="name">animations</span>: [
                            <span class="type">TranslateTransition</span> {
                                <span class="name">id</span>: <span class="name">showButtons</span>
                                <span class="name">toX</span>: <span class="number">0</span>
                                <span class="name">duration</span>: <span class="number">1000</span>
                            }
                        ]
                    }

                    <span class="comment">// Container for the ListView</span>
                    <span class="type">Container</span> {
                        <span class="name">layoutProperties</span>: <span class="name">StackLayoutProperties</span> {
                            <span class="name">spaceQuota</span>: <span class="number">5</span>
                        }
                        <span class="name">translationY</span>: <span class="number">1000</span>
                        <span class="comment">// A standard ListView</span>
                        <span class="type"><a href="http://qt.nokia.com/doc/4.7/qml-listview.html">ListView</a></span> {
                            <span class="comment">// The data model to use for propagating the list</span>
                            <span class="name">dataModel</span>: <span class="name">XmlDataModel</span> {
                                <span class="name">source</span>: <span class="string">&quot;models/goods.xml&quot;</span>
                            }
                            <span class="comment">// The component to use for data items</span>
                            <span class="name">listItemComponents</span>: [
                                <span class="type">ListItemComponent</span> {
                                    <span class="name">type</span>: <span class="string">&quot;digitalgood&quot;</span>
                                    <span class="type">DigitalGood</span> {
                                    }
                                }
                            ]

                            <span class="name">onTriggered</span>: {
                                <span class="name">clearSelection</span>()
                                <span class="name">select</span>(<span class="name">indexPath</span>)
                            }

                            <span class="comment">// Retrieve and save the selected items data</span>
                            <span class="name">onSelectionChanged</span>: {
                                <span class="comment">// Reset some old values</span>
                                <span class="name">resetSubscriptionText</span>()
                                <span class="keyword">if</span>(<span class="name">selected</span>) {
                                    <span class="name">receipt</span>.<span class="name">text</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>
                                    <span class="name">message</span>.<span class="name">visible</span> <span class="operator">=</span> <span class="number">false</span>
                                    var <span class="name">chosenItem</span> = <span class="name">dataModel</span>.<span class="name">data</span> (<span class="name">indexPath</span>)
                                    <span class="name">paymentControl</span>.<span class="name">id</span> <span class="operator">=</span> <span class="name">chosenItem</span>.<span class="name">id</span>
                                    <span class="name">paymentControl</span>.<span class="name">sku</span> <span class="operator">=</span> <span class="name">chosenItem</span>.<span class="name">sku</span>
                                    <span class="name">paymentControl</span>.<span class="name">name</span> <span class="operator">=</span> <span class="name">chosenItem</span>.<span class="name">name</span>
                                    <span class="name">paymentControl</span>.<span class="name">metadata</span> <span class="operator">=</span> <span class="name">chosenItem</span>.<span class="name">metadata</span>
                                    <span class="name">paymentControl</span>.<span class="name">getPrice</span> (<span class="name">paymentControl</span>.<span class="name">id</span>, <span class="name">paymentControl</span>.<span class="name">sku</span>)
                                }
                            }
                        }
                        <span class="comment">// Animation for sliding list effect upon creation</span>
                        <span class="name">animations</span>: [
                            <span class="type">TranslateTransition</span> {
                                <span class="name">id</span>: <span class="name">lists</span>
                                <span class="name">toY</span>: <span class="number">0</span>
                                <span class="name">duration</span>: <span class="number">1000</span>
                            }
                        ]
                    }

                    <span class="comment">// Container for the price/check subscription labels</span>
                    <span class="type">Container</span> {
                        <span class="name">horizontalAlignment</span>: <span class="name">HorizontalAlignment</span>.<span class="name">Fill</span>

                        <span class="name">layout</span>: <span class="name">DockLayout</span> {}

                        <span class="comment">// A standard Label for displaying item price</span>
                        <span class="type">Label</span> {
                            <span class="name">id</span>: <span class="name">priceLabel</span>

                            <span class="name">horizontalAlignment</span>: <span class="name">HorizontalAlignment</span>.<span class="name">Left</span>
                            <span class="name">verticalAlignment</span>: <span class="name">VerticalAlignment</span>.<span class="name">Center</span>

                            <span class="name">pivotY</span>: <span class="name">preferredHeight</span> <span class="operator">/</span> <span class="number">2</span>
                            <span class="name">text</span>: <span class="name">qsTr</span> (<span class="string">&quot;$$$&quot;</span>)
                            <span class="type">textStyle</span> {
                                <span class="name">base</span>: <span class="name">SystemDefaults</span>.<span class="name">TextStyles</span>.<span class="name">BodyText</span>
                                <span class="name">color</span>: <span class="name">Color</span>.<span class="name">create</span> (<span class="string">&quot;#E138AA&quot;</span>)
                            }
                            <span class="name">animations</span>: [
                                 <span class="comment">// A sequential animation is used to trigger consequtive rotations of</span>
                                <span class="comment">// the image to make it wiggle.</span>
                                <span class="type"><a href="http://qt.nokia.com/doc/4.7/qml-sequentialanimation.html">SequentialAnimation</a></span> {
                                    <span class="name">id</span>: <span class="name">priceAnim</span>
                                    <span class="name">animations</span>: [
                                        <span class="type">RotateTransition</span> {
                                            <span class="name">toAngleZ</span>: <span class="number">15</span>
                                            <span class="name">duration</span>: <span class="number">700</span> <span class="operator">*</span> <span class="number">0.4</span>
                                            <span class="name">delay</span>: <span class="number">200</span>
                                        },
                                        <span class="type">RotateTransition</span> {
                                            <span class="name">toAngleZ</span>: -<span class="number">5</span>
                                            <span class="name">duration</span>: <span class="number">700</span> <span class="operator">*</span> <span class="number">0.3</span>
                                        },
                                        <span class="type">RotateTransition</span> {
                                            <span class="name">toAngleZ</span>: <span class="number">0</span>
                                            <span class="name">duration</span>: <span class="number">700</span> <span class="operator">*</span> <span class="number">0.3</span>
                                        }
                                    ]
                                }
                            ]
                        }

                        <span class="comment">// A standard Label used as a palceholder for specific function initiation</span>
                        <span class="type">Label</span> {
                            <span class="name">id</span>: <span class="name">subscription</span>

                            <span class="name">horizontalAlignment</span>: <span class="name">HorizontalAlignment</span>.<span class="name">Right</span>
                            <span class="name">verticalAlignment</span>: <span class="name">VerticalAlignment</span>.<span class="name">Center</span>

                            <span class="name">text</span>: <span class="name">qsTr</span> (<span class="string">&quot;CHECK subscription&quot;</span>)
                            <span class="type">textStyle</span> {
                                <span class="name">base</span>: <span class="name">SystemDefaults</span>.<span class="name">TextStyles</span>.<span class="name">BodyText</span>
                                <span class="name">color</span>: <span class="name">Color</span>.<span class="name">White</span>
                            }

                            <span class="comment">// Check the item subscription and display on touch</span>
                            <span class="name">onTouch</span>: {
                                <span class="keyword">if</span> ( <span class="name">event</span>.<span class="name">isDown</span>() )
                                    <span class="name">paymentControl</span>.<span class="name">checkSubscriptionStatus</span> (<span class="name">paymentControl</span>.<span class="name">id</span>, <span class="name">paymentControl</span>.<span class="name">sku</span>)
                            }
                        }
                    }
                    <span class="comment">// Container for displaying various user messages/results</span>
                    <span class="type">MessageBox</span> {
                        <span class="name">id</span>: <span class="name">message</span>
                        <span class="name">visible</span>: <span class="number">false</span>

                        <span class="name">horizontalAlignment</span>: <span class="name">HorizontalAlignment</span>.<span class="name">Center</span>
                        <span class="name">verticalAlignment</span>: <span class="name">VerticalAlignment</span>.<span class="name">Center</span>

                        <span class="comment">// remove message box on touch</span>
                        <span class="name">onTouch</span>: <span class="name">message</span>.<span class="name">visible</span> <span class="operator">=</span> <span class="number">false</span>
                    }

                    <span class="comment">// Container for displaying the receipt text area</span>
                    <span class="type">Container</span> {
                        <span class="name">horizontalAlignment</span>: <span class="name">HorizontalAlignment</span>.<span class="name">Fill</span>
                        <span class="name">verticalAlignment</span>: <span class="name">VerticalAlignment</span>.<span class="name">Top</span>

                        <span class="name">layoutProperties</span>: <span class="name">StackLayoutProperties</span> {
                            <span class="name">spaceQuota</span>: <span class="number">4</span>
                        }

                        <span class="name">layout</span>: <span class="name">DockLayout</span> {}

                        <span class="type">Container</span> {
                            <span class="name">background</span>: <span class="name">Color</span>.<span class="name">White</span>
                            <span class="comment">// A standard TextArea</span>
                            <span class="type">TextArea</span> {
                                <span class="name">id</span>: <span class="name">receipt</span>
                                <span class="name">editable</span>: <span class="number">false</span>
                                <span class="name">hintText</span>: <span class="string">&quot;&quot;</span>

                                <span class="type">textStyle</span> {
                                    <span class="name">base</span>: <span class="name">SystemDefaults</span>.<span class="name">TextStyles</span>.<span class="name">BodyText</span>
                                    <span class="name">color</span>: <span class="name">Color</span>.<span class="name">Black</span>
                                }
                            }
                        }
                    }

                    <span class="name">attachedObjects</span>: [
                        <span class="comment">// QTimer fired for every receipt string character</span>
                        <span class="comment">// to animate message typing effect</span>
                        <span class="type"><a href="http://qt.nokia.com/doc/4.7/qtimer.html">QTimer</a></span> {
                            <span class="name">id</span>: <span class="name">timer1</span>
                            <span class="name">singleShot</span>: <span class="number">false</span>
                            <span class="name">onTimeout</span>: {
                                <span class="name">animTextAreaText</span> ();
                                <span class="comment">// incremented for each character</span>
                                i ++;
                            }
                        },
                        <span class="comment">// The custom payment element for holding item data</span>
                        <span class="comment">// and used for method invocation and receiving events as a</span>
                        <span class="comment">// result of those invocations</span>
                        <span class="type">PaymentServiceControl</span> {
                            <span class="name">id</span>: <span class="name">paymentControl</span>
                            property <span class="type">string</span> <span class="name">id</span>
                            property <span class="type">string</span> <span class="name">sku</span>
                            property <span class="type">string</span> <span class="name">name</span>
                            property <span class="type">string</span> <span class="name">metadata</span>
                            <span class="name">onPriceResponseSuccess</span>: {
                                <span class="comment">// Play price request animation on response</span>
                                <span class="name">priceLabel</span>.<span class="name">text</span> <span class="operator">=</span> <span class="name">price</span>;
                                <span class="name">priceAnim</span>.<span class="name">play</span> ()
                            }

                            <span class="comment">// Play receipt animation on purchase response</span>
                            <span class="name">onPurchaseResponseSuccess</span>: {
                                <span class="name">i</span> <span class="operator">=</span> <span class="number">0</span>
                                <span class="name">receiptArea</span> <span class="operator">=</span> <span class="name">receiptString</span>
                                <span class="name">timer1</span>.<span class="name">start</span> (<span class="number">50</span>);
                            }
                            <span class="name">onExistingPurchasesResponseSuccess</span>: {
                                <span class="name">purchases</span>.<span class="name">text</span> <span class="operator">=</span> <span class="name">receiptsString</span>
                            }
                            <span class="name">onSubscriptionTermsResponseSuccess</span>: {
                                <span class="name">message</span>.<span class="name">text</span> <span class="operator">=</span> <span class="name">qsTr</span> (<span class="string">&quot;Price: %1\nInitialPeriod: %2\nRenewalPrice: %3\nRenewalPeriod: %4&quot;</span>).<span class="name">arg</span>(<span class="name">price</span>).<span class="name">arg</span>(<span class="name">initialPeriod</span>).<span class="name">arg</span>(<span class="name">renewalPrice</span>).<span class="name">arg</span>(<span class="name">renewalPeriod</span>)
                                <span class="name">message</span>.<span class="name">visible</span> <span class="operator">=</span> <span class="number">true</span>
                            }
                            <span class="name">onCancelSubscriptionResponseSuccess</span>: {
                                <span class="name">cancellations</span>.<span class="name">text</span> <span class="operator">=</span> (<span class="name">cancelled</span> ? <span class="name">qsTr</span> (<span class="string">&quot;Canceled? yes&quot;</span>) : <span class="name">qsTr</span> (<span class="string">&quot;Canceled? no&quot;</span>))
                            }
                            <span class="name">onCheckStatusResponseSuccess</span>: {
                                <span class="name">subscription</span>.<span class="name">textStyle</span>.<span class="name">color</span> <span class="operator">=</span> <span class="name">Color</span>.<span class="name">Green</span>
                                <span class="name">subscription</span>.<span class="name">text</span> <span class="operator">=</span> (<span class="name">status</span> ? <span class="name">qsTr</span> (<span class="string">&quot;Active? yes&quot;</span>) : <span class="name">qsTr</span>(<span class="string">&quot;Active? no&quot;</span>))
                            }
                            <span class="name">onInfoResponseError</span>: {
                            }
                        }
                    ]
                }
                <span class="comment">// Animate various visual components on creation of this page</span>
                <span class="name">onCreationCompleted</span>: <span class="name">animScreen</span> ()
            }
        }

        <span class="comment">// Play the list/Button animations</span>
        <span class="keyword">function</span> <span class="name">animScreen</span> () {
            <span class="name">lists</span>.<span class="name">play</span> ();
            <span class="name">showButtons</span>.<span class="name">play</span> ();
        }

        <span class="comment">// Check the receipt length and stop animation on reaching condition</span>
        <span class="keyword">function</span> <span class="name">animTextAreaText</span> () {
            <span class="name">receipt</span>.<span class="name">text</span> <span class="operator">+=</span> <span class="name">receiptArea</span>.<span class="name">charAt</span> (<span class="name">i</span>);
            <span class="keyword">if</span> (<span class="name">i</span> <span class="operator">&gt;=</span> <span class="name">receiptArea</span>.<span class="name">length</span>) {
                <span class="name">timer1</span>.<span class="name">stop</span> ();
            }
        }

        <span class="comment">// Reset the look of the subscription Label</span>
        <span class="keyword">function</span> <span class="name">resetSubscriptionText</span>() {
            <span class="name">subscription</span>.<span class="name">textStyle</span>.<span class="name">color</span> <span class="operator">=</span> <span class="name">Color</span>.<span class="name">White</span>
            <span class="name">subscription</span>.<span class="name">text</span> <span class="operator">=</span> <span class="name">qsTr</span> (<span class="string">&quot;CHECK subscription&quot;</span>)
        }

        <span class="type">Tab</span> {
            <span class="name">title</span>: <span class="name">qsTr</span> (<span class="string">&quot;Purchases&quot;</span>)
            <span class="name">imageSource</span>: <span class="string">&quot;asset:///images/purchases.png&quot;</span>

            <span class="comment">// Page for displaying purchases made data</span>
            <span class="type">Page</span> {
                <span class="type">Container</span> {
                    <span class="name">topPadding</span>: <span class="number">20</span>
                    <span class="name">leftPadding</span>: <span class="number">20</span>
                    <span class="name">rightPadding</span>: <span class="number">20</span>

                    <span class="comment">// A standard Button</span>
                    <span class="type">Button</span> {
                        <span class="name">horizontalAlignment</span>: <span class="name">HorizontalAlignment</span>.<span class="name">Center</span>

                        <span class="name">text</span>: <span class="name">qsTr</span> (<span class="string">&quot;Purchases&quot;</span>)

                        <span class="comment">// Retrieve purchases made data on click</span>
                        <span class="name">onClicked</span>: <span class="name">paymentControl</span>.<span class="name">getExisting</span> (<span class="number">false</span>);
                    }
                    <span class="comment">// A standard TextArea for displaying retrieved purchases data</span>
                    <span class="type">TextArea</span> {
                        <span class="name">id</span>: <span class="name">purchases</span>
                        <span class="name">editable</span>: <span class="number">false</span>
                    }
                }
            }
        }

        <span class="type">Tab</span> {
            <span class="name">title</span>: <span class="name">qsTr</span> (<span class="string">&quot;Cancellation&quot;</span>)
            <span class="name">imageSource</span>: <span class="string">&quot;asset:///images/cancelpurchases.png&quot;</span>

            <span class="comment">// Page for cancelling subscription's</span>
            <span class="type">Page</span> {
                <span class="type">Container</span> {
                    <span class="name">topPadding</span>: <span class="number">20</span>
                    <span class="name">leftPadding</span>: <span class="number">20</span>
                    <span class="name">rightPadding</span>: <span class="number">20</span>

                    <span class="comment">// A standard Label</span>
                    <span class="type">Label</span> {
                        <span class="name">text</span>: <span class="name">qsTr</span> (<span class="string">&quot;Purchase ID&quot;</span>)
                        <span class="type">textStyle</span> {
                            <span class="name">base</span>: <span class="name">SystemDefaults</span>.<span class="name">TextStyles</span>.<span class="name">TitleText</span>
                        }
                    }

                    <span class="comment">// A standard TextField for purchase id input</span>
                    <span class="type">TextField</span> {
                        <span class="name">id</span>: <span class="name">purchaseId</span>

                        <span class="name">horizontalAlignment</span>: <span class="name">HorizontalAlignment</span>.<span class="name">Fill</span>
                    }

                    <span class="comment">// A standard Button</span>
                    <span class="type">Button</span> {
                        <span class="name">horizontalAlignment</span>: <span class="name">HorizontalAlignment</span>.<span class="name">Center</span>
                        <span class="name">topMargin</span>: <span class="number">50</span>

                        <span class="name">text</span>: <span class="name">qsTr</span> (<span class="string">&quot;Cancel&quot;</span>)

                        <span class="comment">// Cancel entered purchase on click</span>
                        <span class="name">onClicked</span>: {
                            <span class="name">paymentControl</span>.<span class="name">cancelSubscription</span> (<span class="name">purchaseId</span>.<span class="name">text</span>)
                        }
                    }

                    <span class="comment">// A standard TextArea for displaying the cancellation results</span>
                    <span class="type">TextArea</span> {
                        <span class="name">id</span>: <span class="name">cancellations</span>
                        <span class="name">editable</span>: <span class="number">false</span>
                        <span class="name">backgroundVisible</span>: <span class="number">false</span>
                    }
                }
            }
        }
    }</pre>
</div>
<!-- @@@paymentservice/assets/main.qml -->
  <div class="ft">
    <span></span>
  </div>
</div> 
<div class="footer">
  <p>
     Copyright 2012 Research In Motion Limited.
  <br />
    This document may be used under the terms of the <a href="http://www.gnu.org/licenses/fdl.html">GNU
    Free Documentation License version 1.3</a>
    as published by the Free Software Foundation.</p>
</div>
</body>
</html>
