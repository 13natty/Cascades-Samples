<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- dialogs.qdoc -->
  <title>Cascades : Dialogs Example</title>
  <link rel="stylesheet" type="text/css" href="style/offline.css" />
</head>
<body>
<div class="header" id="qtdocheader">
  <div class="content"> 
    <a href="index.html" class="qtref"><span>Qt-based BB10 API Examples Documentation</span></a>
  </div>
  <div class="breadcrumb toolblock">
    <ul>
      <li class="first"><a href="index.html">Home</a></li>
      <!--  Breadcrumbs go here -->
<li><a href="http://qt.nokia.com/doc/4.7/all-examples.html">Examples</a></li>
<li>Dialogs Example</li>
    </ul>
  </div>
</div>
<div class="content mainContent">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#description">Description</a></li>
<li class="level1"><a href="#overview">Overview</a></li>
<li class="level1"><a href="#ui">UI</a></li>
</ul>
</div>
<h1 class="title">Dialogs Example</h1>
<span class="subtitle"></span>
<!-- $$$dialogs-description -->
<div class="descr"> <a name="details"></a>
<p>Files:</p>
<ul>
<li><a href="dialogs-assets-dialogsscrollview-qml.html">dialogs/assets/DialogsScrollView.qml</a></li>
<li><a href="dialogs-assets-main-qml.html">dialogs/assets/main.qml</a></li>
<li><a href="dialogs-assets-720x720-dialogsscrollview-qml.html">dialogs/assets/720x720/DialogsScrollView.qml</a></li>
<li><a href="dialogs-src-main-cpp.html">dialogs/src/main.cpp</a></li>
<li><a href="dialogs-dialogs-pro.html">dialogs/dialogs.pro</a></li>
<li><a href="dialogs-translations-dialogs-pro.html">dialogs/translations/dialogs.pro</a></li>
</ul>
<a name="description"></a>
<h2>Description</h2>
<p>The Dialogs example demonstrates how to use the various dialogs to show notifications to the user.</p>
<p class="centerAlign"><img src="images/dialogs-example.png" /></p><a name="overview"></a>
<h2>Overview</h2>
<p>In this example we'll learn how to use the various dialog classes, as provided by the BB framework, to show notifications to the user or ask for certain input.</p>
<a name="ui"></a>
<h2>UI</h2>
<p>The UI of this sample application consists of a set of a <tt>TextField</tt> where the user can type in some text that will be shown in the dialog and a <tt>RadioGroup</tt> where the user can select the kind of dialog that will be shown. The 'Show' and 'Cancel' buttons are used to show and hide the specific dialog.</p>
<pre class="qml">    <span class="name">attachedObjects</span>: [
        <span class="type">SystemToast</span> {
            <span class="name">id</span>: <span class="name">toast</span>
            <span class="name">body</span>: <span class="name">qsTr</span>(<span class="string">&quot;Toast body&quot;</span>)
            <span class="name">icon</span>: <span class="string">&quot;asset:///images/Battery-low.png&quot;</span>
            <span class="name">onFinished</span>: {
                <span class="keyword">if</span> (<span class="name">result</span> <span class="operator">==</span> <span class="name">SystemUiResult</span>.<span class="name">ConfirmButtonSelection</span>) {
                    <span class="name">console</span>.<span class="name">log</span>(<span class="string">&quot;confirm&quot;</span>);
                } else <span class="keyword">if</span> (<span class="name">result</span> <span class="operator">==</span> <span class="name">SystemUiResult</span>.<span class="name">CancelButtonSelection</span>) {
                    <span class="name">console</span>.<span class="name">log</span>(<span class="string">&quot;cancel&quot;</span>);
                } else <span class="keyword">if</span> (<span class="name">result</span> <span class="operator">==</span> <span class="name">SystemUiResult</span>.<span class="name">TimeOut</span>) {
                    <span class="name">console</span>.<span class="name">log</span>(<span class="string">&quot;timeout&quot;</span>);
                }
            }
        },
        <span class="type">SystemPrompt</span> {
            <span class="name">id</span>: <span class="name">prompt</span>
            <span class="name">title</span>: <span class="name">qsTr</span>(<span class="string">&quot;PROMPT&quot;</span>)
            <span class="name">modality</span>: <span class="name">SystemUiModality</span>.<span class="name">Application</span>
            <span class="name">inputField</span>.inputMode: <span class="name">SystemUiInputMode</span>.<span class="name">Password</span>
            <span class="name">confirmButton</span>.label: <span class="name">qsTr</span>(<span class="string">&quot;Okay button&quot;</span>)
            <span class="name">confirmButton</span>.enabled: <span class="number">true</span>
            <span class="name">cancelButton</span>.label: <span class="name">qsTr</span>(<span class="string">&quot;Cancel button&quot;</span>)
            <span class="name">cancelButton</span>.enabled: <span class="number">true</span>
            <span class="name">onFinished</span>: {
                <span class="keyword">if</span> (<span class="name">result</span> <span class="operator">==</span> <span class="name">SystemUiResult</span>.<span class="name">ConfirmButtonSelection</span>) {
                    <span class="name">console</span>.<span class="name">log</span>(<span class="string">&quot;confirm&quot;</span>);
                } else <span class="keyword">if</span> (<span class="name">result</span> <span class="operator">==</span> <span class="name">SystemUiResult</span>.<span class="name">CancelButtonSelection</span>) {
                    <span class="name">console</span>.<span class="name">log</span>(<span class="string">&quot;cancel&quot;</span>);
                }
            }
        },
        <span class="type">SystemCredentialsPrompt</span> {
            <span class="name">id</span>: <span class="name">credentialsPrompt</span>
            <span class="name">title</span>: <span class="name">qsTr</span>(<span class="string">&quot;CREDENTIALS PROMPT&quot;</span>)
            <span class="name">body</span>: <span class="name">qsTr</span>(<span class="string">&quot;Credentials dialog body&quot;</span>)
            <span class="name">includeShowPassword</span>: <span class="number">true</span>
            <span class="name">includeRememberMe</span>: <span class="number">true</span>
            <span class="name">confirmButton</span>.label: <span class="name">qsTr</span>(<span class="string">&quot;Login button&quot;</span>)
            <span class="name">confirmButton</span>.enabled: <span class="number">true</span>
            <span class="name">cancelButton</span>.label: <span class="name">qsTr</span>(<span class="string">&quot;Cancel button&quot;</span>)
            <span class="name">cancelButton</span>.enabled: <span class="number">true</span>
            <span class="name">onFinished</span>: {
                <span class="keyword">if</span> (<span class="name">result</span> <span class="operator">==</span> <span class="name">SystemUiResult</span>.<span class="name">ConfirmButtonSelection</span>) {
                    <span class="name">console</span>.<span class="name">log</span>(<span class="string">&quot;confirm&quot;</span>);
                } else <span class="keyword">if</span> (<span class="name">result</span> <span class="operator">==</span> <span class="name">SystemUiResult</span>.<span class="name">CancelButtonSelection</span>) {
                    <span class="name">console</span>.<span class="name">log</span>(<span class="string">&quot;cancel&quot;</span>);
                }
            }
        },
        <span class="type">SystemDialog</span> {
            <span class="name">id</span>: <span class="name">dialog</span>
            <span class="name">title</span>: <span class="name">qsTr</span>(<span class="string">&quot;DIALOG&quot;</span>)
            <span class="name">body</span>: <span class="name">qsTr</span>(<span class="string">&quot;Dialog body&quot;</span>)
            <span class="name">confirmButton</span>.label: <span class="name">qsTr</span>(<span class="string">&quot;Okay button&quot;</span>)
            <span class="name">confirmButton</span>.enabled: <span class="number">true</span>
            <span class="name">cancelButton</span>.label: <span class="name">qsTr</span>(<span class="string">&quot;Cancel button&quot;</span>)
            <span class="name">cancelButton</span>.enabled: <span class="number">true</span>
            <span class="name">buttons</span>: [
                <span class="type">SystemUiButton</span> {
                    <span class="name">id</span>: <span class="name">random</span>
                    <span class="name">label</span>: <span class="name">qsTr</span>(<span class="string">&quot;RANDOM&quot;</span>)
                    <span class="name">enabled</span>: <span class="number">true</span>
                },
                <span class="type">SystemUiButton</span> {
                    <span class="name">id</span>: <span class="name">random2</span>
                    <span class="name">label</span>: <span class="name">qsTr</span>(<span class="string">&quot;RANDOM2&quot;</span>)
                    <span class="name">enabled</span>: <span class="number">true</span>
                }
            ]
            <span class="name">onFinished</span>: {
                var <span class="name">x</span> = <span class="name">result</span>;
                <span class="name">console</span>.<span class="name">log</span>(<span class="name">dialog</span>.<span class="name">error</span>);
                <span class="keyword">if</span> (<span class="name">x</span> <span class="operator">==</span> <span class="name">SystemUiResult</span>.<span class="name">ConfirmButtonSelection</span>) {
                    <span class="name">console</span>.<span class="name">log</span>(<span class="string">&quot;confirm&quot;</span>);
                } else <span class="keyword">if</span> (<span class="name">x</span> <span class="operator">==</span> <span class="name">SystemUiResult</span>.<span class="name">CancelButtonSelection</span>) {
                    <span class="name">console</span>.<span class="name">log</span>(<span class="string">&quot;cancel&quot;</span>);
                } else <span class="keyword">if</span> (<span class="name">x</span> <span class="operator">==</span> <span class="name">SystemUiResult</span>.<span class="name">ButtonSelection</span>) {
                    <span class="name">console</span>.<span class="name">log</span>(<span class="string">&quot;button&quot;</span>);
                } else <span class="keyword">if</span> (<span class="name">x</span> <span class="operator">==</span> <span class="name">SystemUiResult</span>.<span class="name">None</span>) {
                    <span class="name">console</span>.<span class="name">log</span>(<span class="string">&quot;none&quot;</span>);
                } else <span class="keyword">if</span> (<span class="name">x</span> <span class="operator">==</span> <span class="name">SystemUiResult</span>.<span class="name">Error</span>) {
                    <span class="name">console</span>.<span class="name">log</span>(<span class="string">&quot;error&quot;</span>);
                } else <span class="keyword">if</span> (<span class="name">x</span> <span class="operator">==</span> <span class="name">SystemUiResult</span>.<span class="name">TimeOut</span>) {
                    <span class="name">console</span>.<span class="name">log</span>(<span class="string">&quot;timeout&quot;</span>);
                } else {
                    <span class="name">console</span>.<span class="name">log</span>(<span class="name">x</span>);
                }
            }
        }

    ]</pre>
<p>For each dialog type (toast, prompt, credentials prompt and normal dialog), we define an instance as an attached object of the page. The API of these dialogs is quite similar, they provide properties to set the title and body text, the label of the buttons and their state. All dialogs also provide a 'finished()' signal that we declare a signal handler for to evaluate the user interaction with the dialog.</p>
<pre class="qml">    <span class="type">Button</span> {
        <span class="name">id</span>: <span class="name">show</span>
        <span class="name">text</span>: <span class="name">qsTr</span>(<span class="string">&quot;Show&quot;</span>)
        <span class="name">onClicked</span>: <span class="name">group</span>.<span class="name">selectedValue</span>.<span class="name">show</span>()
    }</pre>
<p>If the user clicks the 'Show' button, we check which type he has selected in the <tt>RadioGroup</tt> and call the 'show()' method on the corresponding dialog instance.</p>
<pre class="qml">    <span class="type">Button</span> {
        <span class="name">id</span>: <span class="name">cancel</span>
        <span class="name">text</span>: <span class="name">qsTr</span>(<span class="string">&quot;Cancel&quot;</span>)
        <span class="name">onClicked</span>: <span class="name">group</span>.<span class="name">selectedValue</span>.<span class="name">cancel</span>()
    }</pre>
<p>If the user clicks the 'Cancel' button, we check which type he has selected in the <tt>RadioGroup</tt> and call the 'cancel()' method on the corresponding dialog instance.</p>
</div>
<!-- @@@dialogs -->
  <div class="ft">
    <span></span>
  </div>
</div> 
<div class="footer">
  <p>
     Copyright 2012 Research In Motion Limited.
  <br />
    This document may be used under the terms of the <a href="http://www.gnu.org/licenses/fdl.html">GNU
    Free Documentation License version 1.3</a>
    as published by the Free Software Foundation.</p>
</div>
</body>
</html>
